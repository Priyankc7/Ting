import { Meta } from "@storybook/addon-docs/blocks";
import FormSubmissionHandling from "@dgn-src-ui/docs/partials/FormSubmissionHandling.mdx";

<Meta title="General/Forms" />

# Forms

For the most part forms are handled entirely by the UI screen component. A form prop has been standarized across all screen components in order to correctly populate the form when the screen is loaded. Callbacks can then be used to provide minor form manipulation (trigger an error to show) by exposing specific form context methods as an argument.

## Props
Name|Description|Default
|---|---|---|
onSubmit|Callback function that gets invoked when the form is successfully submit, post client side validation. Accepts a data object containing fields and values, a synthetic event object, and a form context object. The form context object contains: setError (accepts "form" or a field name as the first argument, and an ERROR_CODE as the second), formResolver (accepts boolean, sending in true will stop any resolving items like button spinners, if you are navigating away this is unnecessary), and others found in the React Hook Forms docs below.|() => {}
defaultValues|An object containing field name => value pairs for pre-loading values into form fields.|{}
errors|An object containing field name => value pairs for any errors that should be present on load. Accepts field names as keys, as well as a generic "form" key for triggering the error at a top of the form. The value should be an error code.|{}
contextConfig.mode|What kind of submission event triggers React Hook Form|"onSubmit"
contextConfig.revalidateMode|After the form is submitted for the first time, what event triggers another revalidation|"onSubmit"
contextConfig.submitFocusError|When set to true, focuses on the first form field error|true

<FormSubmissionHandling />