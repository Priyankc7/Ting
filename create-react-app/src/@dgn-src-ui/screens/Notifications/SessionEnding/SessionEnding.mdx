import { Story, Meta, Props, Preview } from "@storybook/addon-docs/blocks";
import SessionEnding from "./SessionEnding";
import PassingViewProps from "@dgn-src-ui/docs/partials/PassingViewProps.mdx";
import ViewInheritance from "@dgn-src-ui/docs/partials/ViewInheritance.mdx";
import FormSubmissionHandling from "@dgn-src-ui/docs/partials/FormSubmissionHandling.mdx";

<Meta title="Session Ending" component={SessionEnding} />

# Session Ending Screen

When the user hits an idle timeout threshhold, they will be warned that a session will be ending soon. This screen is already implemented at by `AppLayout` and is configured to turn on and off internally. The `onTimeout` callback can be sent in as a global configuration value. See the <a href="/?path=/docs/components-view--view-screen">View</a> component for more details.

## Usage

```jsx
import View from "@dgn-src-ui/core/View";

// ...

<View
  screen="Notifications/SessionEnding"
  config={{
    ...config,
    session: {
      timeout: {
        secondsBeforeWarning: 299,
        secondsBeforeTimeout: 360,
        onTimeout: () => {
          // Redirect to session ended after logging them out
        },
      },
    },
  }}
/>;
```

<PassingViewProps />

## Props

<Props of={SessionEnding} />
<ViewInheritance />
<FormSubmissionHandling />

## Resources

- [Configuration](?path=/docs/general-configuration--page)
- [Notification Page Component](?path=/docs/components--notification-page)
- [View Component](?path=/docs/components-view--view-screen)
