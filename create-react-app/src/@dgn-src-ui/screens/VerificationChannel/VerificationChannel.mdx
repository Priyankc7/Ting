import { Story, Meta, Props, Preview } from "@storybook/addon-docs/blocks";
import VerificationChannel from "./VerificationChannel";
import PassingViewProps from "@dgn-src-ui/docs/partials/PassingViewProps.mdx";
import ViewInheritance from "@dgn-src-ui/docs/partials/ViewInheritance.mdx";
import FormSubmissionHandling from "@dgn-src-ui/docs/partials/FormSubmissionHandling.mdx";

<Meta title="Verification Channel" component={VerificationChannel} />

# Verification Channel Screen

This screen prompts the user to pick a verification channel by which they will receive their "One Time Code". This screen will automatically handle the alternate "Single Channel" and "No channel" views based on how many objects it receives in its `channels` array.

## Usage

```jsx
import View from "@dgn-src-ui/core/View";

// ...

<View
  screen="VerificationChannel"
  channels={[
    {
      identifier: "A10002",
      type: "SMS",
      value: "***-***-3369",
    },
    {
      identifier: "A10003",
      type: "CALL",
      value: "***-***-3369",
    },
    {
      identifier: "SRC",
      type: "EMAIL_ADDRESS",
      value: "jon*********@bluesuncorp.com",
    },
  ]}
  form={{
    onSubmit: (data, e, context) => {
      // Handle submission
    },
  }}
  onCancelClick={(e) => {
    e.preventDefault();
    // Navigate back to merchant
  }}
/>;
```

<PassingViewProps />

## Form Fields

| Field Name          | Rules    | Description                                       |
| ------------------- | -------- | ------------------------------------------------- |
| validationChannelId | required | ID of one of the channels that have been sent in. |

## Props

<Props of={VerificationChannel} />
<ViewInheritance />
<FormSubmissionHandling />

## Resources

- [Form Component](?path=/docs/components-forms--form)
- [View Component](?path=/docs/components-view--view-screen)
- [React Hook Form](https://react-hook-form.com/)
